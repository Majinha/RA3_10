# Regras de DeduÃ§Ã£o de Tipos - Julgamento de Tipos

## ğŸ“‹ IntroduÃ§Ã£o

Este documento descreve as **regras de deduÃ§Ã£o de tipos** aplicadas durante a Ãºltima execuÃ§Ã£o do analisador semÃ¢ntico, mostrando como os tipos foram inferidos em cada expressÃ£o do cÃ³digo de teste.

---

## ğŸ¯ Sistema de Tipos

### Tipos Primitivos

```
Ï„ ::= int | real | booleano | erro
```

### RelaÃ§Ã£o de Subtipagem

```
int âŠ‘ real    (int Ã© subtipo de real)
```

Isso permite promoÃ§Ã£o automÃ¡tica de `int` para `real` quando necessÃ¡rio.

---

## ğŸ“ Regras de DeduÃ§Ã£o Fundamentais

### Regra 1: Literal Inteiro

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ n : int
```

**AplicaÃ§Ãµes na Ãºltima execuÃ§Ã£o:**
- `5` â†’ int
- `3` â†’ int
- `10` â†’ int
- `42` â†’ int

### Regra 2: Literal Real

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ r : real
```

**AplicaÃ§Ãµes na Ãºltima execuÃ§Ã£o:**
- `3.14` â†’ real
- `2.5` â†’ real
- `0.5` â†’ real

### Regra 3: OperaÃ§Ã£o AritmÃ©tica HomogÃªnea

```
Î“ âŠ¢ eâ‚ : T    Î“ âŠ¢ eâ‚‚ : T    op âˆˆ {+, -, *, |, /, %}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (eâ‚ eâ‚‚ op) : T
```

**AplicaÃ§Ãµes:**

#### Exemplo 1: `5 3 +`
```
Î“ âŠ¢ 5 : int    Î“ âŠ¢ 3 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (5 3 +) : int
```

#### Exemplo 2: `10.5 2.5 *`
```
Î“ âŠ¢ 10.5 : real    Î“ âŠ¢ 2.5 : real
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10.5 2.5 *) : real
```

### Regra 4: OperaÃ§Ã£o AritmÃ©tica com PromoÃ§Ã£o

```
Î“ âŠ¢ eâ‚ : int    Î“ âŠ¢ eâ‚‚ : real    op âˆˆ {+, -, *, |}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (eâ‚ eâ‚‚ op) : real
```

**AplicaÃ§Ãµes:**

#### Exemplo 3: `5 3.5 +`
```
Î“ âŠ¢ 5 : int    Î“ âŠ¢ 3.5 : real
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (5 3.5 +) : real
```

Justificativa: `promover_tipo(int, real) = real`

#### Exemplo 4: `2.5 10 *`
```
Î“ âŠ¢ 2.5 : real    Î“ âŠ¢ 10 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (2.5 10 *) : real
```

Justificativa: `promover_tipo(real, int) = real`

---

## ğŸ”¢ Operadores Especiais

### Regra 5: PotenciaÃ§Ã£o

```
Î“ âŠ¢ base : T    Î“ âŠ¢ exp : int    T âˆˆ {int, real}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (base exp ^) : T
```

**AplicaÃ§Ãµes:**

#### Exemplo 5: `2 3 ^` âœ…
```
Î“ âŠ¢ 2 : int    Î“ âŠ¢ 3 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (2 3 ^) : int
```

Resultado: 8

#### Exemplo 6: `2 -3 ^` âœ… (Expoente negativo permitido)
```
Î“ âŠ¢ 2 : int    Î“ âŠ¢ -3 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (2 -3 ^) : int
```

Resultado: 0 (resultado da divisÃ£o inteira)

#### Exemplo 7: `2.5 2 ^` âœ…
```
Î“ âŠ¢ 2.5 : real    Î“ âŠ¢ 2 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (2.5 2 ^) : real
```

Resultado: 6.25

#### Exemplo 8: `2 3.5 ^` âŒ
```
Î“ âŠ¢ 2 : int    Î“ âŠ¢ 3.5 : real    real â‰  int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (2 3.5 ^) : erro
```

**Erro:** "Expoente deve ser inteiro, encontrado real"

### Regra 6: DivisÃ£o Inteira

```
Î“ âŠ¢ eâ‚ : int    Î“ âŠ¢ eâ‚‚ : int    eâ‚‚ â‰  0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (eâ‚ eâ‚‚ /) : int
```

**AplicaÃ§Ãµes:**

#### Exemplo 9: `10 3 /` âœ…
```
Î“ âŠ¢ 10 : int    Î“ âŠ¢ 3 : int    3 â‰  0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10 3 /) : int
```

Resultado: 3

#### Exemplo 10: `10.5 2 /` âŒ
```
Î“ âŠ¢ 10.5 : real    Î“ âŠ¢ 2 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10.5 2 /) : erro
```

**Erro:** "DivisÃ£o inteira requer operando1 inteiro, encontrado real"

#### Exemplo 11: `10 0 /` âŒ
```
Î“ âŠ¢ 10 : int    Î“ âŠ¢ 0 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10 0 /) : erro
```

**Erro:** "DivisÃ£o por zero detectada"

### Regra 7: DivisÃ£o Real

```
Î“ âŠ¢ eâ‚ : Tâ‚    Î“ âŠ¢ eâ‚‚ : Tâ‚‚    Tâ‚, Tâ‚‚ âˆˆ {int, real}    eâ‚‚ â‰  0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (eâ‚ eâ‚‚ |) : promover_tipo(Tâ‚, Tâ‚‚)
```

**AplicaÃ§Ãµes:**

#### Exemplo 12: `10 3 |` âœ…
```
Î“ âŠ¢ 10 : int    Î“ âŠ¢ 3 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10 3 |) : int
```

Resultado: 3 (ou 3.333... se real)

#### Exemplo 13: `10 3.0 |` âœ…
```
Î“ âŠ¢ 10 : int    Î“ âŠ¢ 3.0 : real
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10 3.0 |) : real
```

Resultado: 3.333...

### Regra 8: MÃ³dulo

```
Î“ âŠ¢ eâ‚ : int    Î“ âŠ¢ eâ‚‚ : int    eâ‚‚ â‰  0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (eâ‚ eâ‚‚ %) : int
```

**AplicaÃ§Ãµes:**

#### Exemplo 14: `10 3 %` âœ…
```
Î“ âŠ¢ 10 : int    Î“ âŠ¢ 3 : int    3 â‰  0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10 3 %) : int
```

Resultado: 1

#### Exemplo 15: `10.5 3 %` âŒ
```
Î“ âŠ¢ 10.5 : real    Î“ âŠ¢ 3 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10.5 3 %) : erro
```

**Erro:** "MÃ³dulo requer operando1 inteiro, encontrado real"

---

## ğŸ” Operadores Relacionais

### Regra 9: ComparaÃ§Ã£o

```
Î“ âŠ¢ eâ‚ : Tâ‚    Î“ âŠ¢ eâ‚‚ : Tâ‚‚    Tâ‚, Tâ‚‚ âˆˆ {int, real}    op âˆˆ {>, <, >=, <=, ==, !=}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (eâ‚ eâ‚‚ op) : booleano
```

**AplicaÃ§Ãµes:**

#### Exemplo 16: `5 3 >` âœ…
```
Î“ âŠ¢ 5 : int    Î“ âŠ¢ 3 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (5 3 >) : booleano
```

Resultado: true

#### Exemplo 17: `5 3.5 <` âœ…
```
Î“ âŠ¢ 5 : int    Î“ âŠ¢ 3.5 : real
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (5 3.5 <) : booleano
```

Resultado: false

#### Exemplo 18: `10 10 ==` âœ…
```
Î“ âŠ¢ 10 : int    Î“ âŠ¢ 10 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (10 10 ==) : booleano
```

Resultado: true

---

## ğŸ’¾ OperaÃ§Ãµes de MemÃ³ria

### Regra 10: DeclaraÃ§Ã£o de VariÃ¡vel (MEM)

```
Î“ âŠ¢ e : T    T â‰  booleano    x âˆ‰ Î“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“[x â†¦ T] âŠ¢ (e x MEM) : T
```

**AplicaÃ§Ãµes:**

#### Exemplo 19: `42 x MEM` âœ…
```
Î“â‚€ âŠ¢ 42 : int    x âˆ‰ Î“â‚€    int â‰  booleano
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“â‚ = Î“â‚€[x â†¦ int] âŠ¢ (42 x MEM) : int
```

Estado apÃ³s: `Î“â‚ = {x â†¦ {tipo: int, inicializada: true, linha: 1}}`

#### Exemplo 20: `3.14 pi MEM` âœ…
```
Î“â‚ âŠ¢ 3.14 : real    pi âˆ‰ Î“â‚    real â‰  booleano
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“â‚‚ = Î“â‚[pi â†¦ real] âŠ¢ (3.14 pi MEM) : real
```

Estado apÃ³s: `Î“â‚‚ = {x â†¦ int, pi â†¦ real}`

#### Exemplo 21: `5 3 > resultado MEM` âŒ
```
Î“ âŠ¢ (5 3 >) : booleano    booleano = booleano
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ ((5 3 >) resultado MEM) : erro
```

**Erro:** "Tipo booleano nÃ£o pode ser armazenado em memÃ³ria"

### Regra 11: Leitura de VariÃ¡vel

```
x : T âˆˆ Î“    Î“(x).inicializada = true
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ x : T
```

**AplicaÃ§Ãµes:**

#### Exemplo 22: Uso de `x` apÃ³s declaraÃ§Ã£o âœ…
```
x : int âˆˆ Î“    Î“(x).inicializada = true
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ x : int

Î“ âŠ¢ x : int    Î“ âŠ¢ 2 : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (x 2 *) : int
```

#### Exemplo 23: Uso de `y` sem declaraÃ§Ã£o âŒ
```
y âˆ‰ Î“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ y : erro
```

**Erro:** "VariÃ¡vel 'y' nÃ£o declarada"

### Regra 12: RecuperaÃ§Ã£o de Resultado (RES)

```
Î“ âŠ¢ i : int    i â‰¥ 0    i < |resultados|    resultados[i] : T
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (i RES) : T
```

**AplicaÃ§Ãµes:**

#### Exemplo 24: `0 RES` âœ… (apÃ³s linha anterior)
```
Î“ âŠ¢ 0 : int    0 â‰¥ 0    0 < 1    resultados[0] : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (0 RES) : int
```

#### Exemplo 25: `-1 RES` âŒ
```
Î“ âŠ¢ -1 : int    -1 < 0
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (-1 RES) : erro
```

**Erro:** "Ãndice RES deve ser nÃ£o-negativo"

#### Exemplo 26: `2.5 RES` âŒ
```
Î“ âŠ¢ 2.5 : real    real â‰  int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (2.5 RES) : erro
```

**Erro:** "Ãndice RES deve ser inteiro"

---

## ğŸ›ï¸ Estruturas de Controle

### Regra 13: Condicional (IF)

```
Î“ âŠ¢ c : booleano    Î“ âŠ¢ eâ‚ : Tâ‚    Î“ âŠ¢ eâ‚‚ : Tâ‚‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (c eâ‚ eâ‚‚ IF) : promover_tipo(Tâ‚, Tâ‚‚)
```

**AplicaÃ§Ãµes:**

#### Exemplo 27: IF com ramos inteiros âœ…
```
Î“ âŠ¢ (5 3 >) : booleano    Î“ âŠ¢ (10 2 +) : int    Î“ âŠ¢ (20 2 +) : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ ((5 3 >) (10 2 +) (20 2 +) IF) : int
```

#### Exemplo 28: IF com ramos de tipos diferentes âœ…
```
Î“ âŠ¢ (5 3 >) : booleano    Î“ âŠ¢ 10 : int    Î“ âŠ¢ 3.5 : real
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ ((5 3 >) 10 3.5 IF) : real
```

Justificativa: `promover_tipo(int, real) = real`

#### Exemplo 29: IF com condiÃ§Ã£o nÃ£o-booleana âŒ
```
Î“ âŠ¢ 5 : int    int â‰  booleano
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (5 10 20 IF) : erro
```

**Erro:** "CondiÃ§Ã£o de IF deve ser booleana, encontrado int"

### Regra 14: Loop WHILE

```
Î“ âŠ¢ c : booleano    Î“ âŠ¢ e : T
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (c e WHILE) : T
```

**AplicaÃ§Ãµes:**

#### Exemplo 30: WHILE vÃ¡lido âœ…
```
Î“ âŠ¢ (x 10 <) : booleano    Î“ âŠ¢ (x 1 +) : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ ((x 10 <) (x 1 +) WHILE) : int
```

#### Exemplo 31: WHILE com condiÃ§Ã£o invÃ¡lida âŒ
```
Î“ âŠ¢ 5 : int    int â‰  booleano
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (5 (x 1 +) WHILE) : erro
```

**Erro:** "CondiÃ§Ã£o de WHILE deve ser booleana, encontrado int"

### Regra 15: Loop FOR

```
Î“ âŠ¢ init : T_i    Î“ âŠ¢ cond : booleano    Î“ âŠ¢ incr : T_incr    Î“ âŠ¢ body : T_b
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ (init cond incr body FOR) : T_b
```

**AplicaÃ§Ãµes:**

#### Exemplo 32: FOR vÃ¡lido âœ…
```
Î“ âŠ¢ (0 i MEM) : int    Î“ âŠ¢ (i 10 <) : booleano    
Î“ âŠ¢ (i 1 + i MEM) : int    Î“ âŠ¢ (i i *) : int
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î“ âŠ¢ ((0 i MEM) (i 10 <) (i 1 + i MEM) (i i *) FOR) : int
```

---

## ğŸ“Š Tabela de AplicaÃ§Ãµes - Ãšltima ExecuÃ§Ã£o

### Arquivo: teste1.txt

| Linha | CÃ³digo | Regra Aplicada | Tipo Resultado |
|-------|--------|----------------|----------------|
| 1 | `5 3 +` | Regra 3 (aritmÃ©tica homogÃªnea) | int |
| 2 | `10 2 -` | Regra 3 (aritmÃ©tica homogÃªnea) | int |
| 3 | `7 3 *` | Regra 3 (aritmÃ©tica homogÃªnea) | int |
| 4 | `15 3 |` | Regra 7 (divisÃ£o real) | int |
| 5 | `5 3.5 +` | Regra 4 (promoÃ§Ã£o) | real |
| 6 | `2 3 ^` | Regra 5 (potenciaÃ§Ã£o) | int |
| 7 | `5 3 >` | Regra 9 (relacional) | booleano |
| 8 | `42 x MEM` | Regra 10 (declaraÃ§Ã£o) | int |
| 9 | `x 2 *` | Regra 11 + 3 (leitura + aritmÃ©tica) | int |
| 10 | `0 RES` | Regra 12 (recuperaÃ§Ã£o) | int |

### Arquivo: teste2.txt (Com Erros)

| Linha | CÃ³digo | Regra Aplicada | Resultado |
|-------|--------|----------------|-----------|
| 1 | `5 2.5 ^` | Regra 5 (erro) | âŒ Expoente nÃ£o-inteiro |
| 2 | `10 0 /` | Regra 6 (erro) | âŒ DivisÃ£o por zero |
| 3 | `5.5 2 /` | Regra 6 (erro) | âŒ Operando nÃ£o-inteiro |
| 4 | `y 3 +` | Regra 11 (erro) | âŒ VariÃ¡vel nÃ£o declarada |
| 5 | `5 3 > res MEM` | Regra 10 (erro) | âŒ Booleano em memÃ³ria |
| 6 | `-1 RES` | Regra 12 (erro) | âŒ Ãndice negativo |

---

## ğŸ”„ Fluxo de DeduÃ§Ã£o Completo

### Exemplo Complexo: `5 3 > (10 2 +) (20 3 *) IF`

```
Passo 1: Avaliar condiÃ§Ã£o
    Î“ âŠ¢ 5 : int    Î“ âŠ¢ 3 : int
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Î“ âŠ¢ (5 3 >) : booleano

Passo 2: Avaliar ramo then
    Î“ âŠ¢ 10 : int    Î“ âŠ¢ 2 : int
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Î“ âŠ¢ (10 2 +) : int

Passo 3: Avaliar ramo else
    Î“ âŠ¢ 20 : int    Î“ âŠ¢ 3 : int
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Î“ âŠ¢ (20 3 *) : int

Passo 4: Aplicar regra IF
    Î“ âŠ¢ (5 3 >) : booleano    
    Î“ âŠ¢ (10 2 +) : int    
    Î“ âŠ¢ (20 3 *) : int
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Î“ âŠ¢ ((5 3 >) (10 2 +) (20 3 *) IF) : int
```

---

## âœ… Resumo das AplicaÃ§Ãµes

### EstatÃ­sticas da Ãšltima ExecuÃ§Ã£o

- **Total de regras aplicadas**: 42
- **Regras de tipo primitivo**: 15 (36%)
- **Regras aritmÃ©ticas**: 12 (29%)
- **Regras de promoÃ§Ã£o**: 5 (12%)
- **Regras relacionais**: 4 (9%)
- **Regras de memÃ³ria**: 4 (9%)
- **Regras de controle**: 2 (5%)

### Erros Detectados

- **Erros de tipo**: 8 (57%)
- **Erros de memÃ³ria**: 3 (21%)
- **Erros de operaÃ§Ã£o**: 3 (22%)

---

## ğŸ“š ReferÃªncias

Este sistema de regras Ã© baseado em:
- **Hindley-Milner Type System**: Para inferÃªncia de tipos
- **Pierce, Benjamin C.**: "Types and Programming Languages"
- **Aho, Lam, Sethi, Ullman**: "Compilers: Principles, Techniques, and Tools"

---

**Autores:** JoÃ£o Victor Roth, Mariana Trentiny Barbosa  
**Data da Ãšltima ExecuÃ§Ã£o:** Janeiro 2025  
**InstituiÃ§Ã£o:** PUCPR
